(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{JF47:function(e,a,t){var n=t("uGzC");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};t("aET+")(n,s);n.locals&&(e.exports=n.locals)},kxw8:function(e,a,t){"use strict";var n=t("JF47");t.n(n).a},rSDC:function(e,a,t){"use strict";t.r(a);var n=t("j4GA"),s=t.n(n),i=t("+z1p"),r=t.n(i),o=t("vDqi"),c=t.n(o),d={name:"AppEditVacancy",components:{Autocomplete:s.a},props:["data","logo"],data:function(){return{submitted:!1,loading:!1,parseData:null,city:null,empTypes:null,categories:null,editor:r.a,editorConfig:{toolbar:["Heading","bulletedList","numberedList","bold","italic","link","undo","redo"]}}},beforeMount:function(){this.$store.dispatch("GET_CITY"),this.$store.dispatch("GET_CATEGORIES"),this.$store.dispatch("GET_TYPES"),this.$store.commit("SET_COMPANY_LOGO",this.logo),this.parseData=JSON.parse(this.data),this.city=this.parseData.cities[0].id,this.empTypes=this.createCheckboxGroupArray(this.parseData.employment_types),this.categories=this.createCheckboxGroupArray(this.parseData.categories)},methods:{createCheckboxGroupArray:function(e){var a=[];return e.forEach(function(e){a.push(e.id)}),a},createCityArray:function(){var e=[];return e.push("".concat(this.city)),e},vacancyEditSubmit:function(){var e=this;this.submitted=!0,this.$store.dispatch("addErrors",this.$validator.errors.items),this.$validator.validate().then(function(a){a&&(e.loading=!0,c.a.post("/vacancy/update/".concat(e.parseData.id),{_method:"PATCH",position:e.parseData.position,cities:e.createCityArray(),contact_name:e.parseData.contact_name,contact_phone:e.parseData.contact_phone,contact_email:e.parseData.contact_email,employment_types:e.empTypes,salary:e.parseData.salary,salary_comment:e.parseData.salary_comment,description:e.parseData.description,categories:e.categories,published:e.parseData.published,short_desc:e.parseData.short_desc,video:e.parseData.video}).then(function(a){"redirect"===a.data.status&&(window.location.href=a.data.data.path,e.loading=!1)}).catch(function(a){for(var t in e.loading=!1,a.response.data.errors)e.errors.add({field:t,msg:a.response.data.errors[t][0]})}).then(function(){e.loading=!1}))})}},computed:{cityList:function(){return this.$store.getters.CITY},typesList:function(){return this.$store.getters.TYPES},categoriesList:function(){return this.$store.getters.CATEGORIES}}},p=(t("kxw8"),t("KHd+")),l=Object(p.a)(d,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("form",{staticClass:"resume",on:{keypress:function(a){if(!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;a.preventDefault()},submit:function(a){return a.preventDefault(),e.vacancyEditSubmit(a)}}},[t("div",{staticClass:"resume__block"},[t("h2",{staticClass:"resume__title"},[e._v("\n                Общая информация\n            ")]),e._v(" "),t("div",{staticClass:"input-group resume__position"},[e._m(0),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.parseData.position,expression:"parseData.position"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("position")},attrs:{type:"text",name:"position"},domProps:{value:e.parseData.position},on:{input:function(a){a.target.composing||e.$set(e.parseData,"position",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group resume__desired"},[e._m(1),e._v(" "),t("autocomplete",{attrs:{source:e.cityList,initialValue:e.parseData.cities[0].id,initialDisplay:e.parseData.cities[0].name},model:{value:e.city,callback:function(a){e.city=a},expression:"city"}})],1),e._v(" "),t("div",{staticClass:"input-group resume__desired"},[e._m(2),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.parseData.contact_name,expression:"parseData.contact_name"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("contact_name")},attrs:{type:"text",name:"contact_name"},domProps:{value:e.parseData.contact_name},on:{input:function(a){a.target.composing||e.$set(e.parseData,"contact_name",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group resume__desired"},[e._m(3),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.parseData.contact_phone,expression:"parseData.contact_phone"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("contact_phone")},attrs:{type:"text",name:"contact_phone"},domProps:{value:e.parseData.contact_phone},on:{input:function(a){a.target.composing||e.$set(e.parseData,"contact_phone",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group resume__desired"},[e._m(4),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.parseData.contact_email,expression:"parseData.contact_email"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("contact_email")},attrs:{type:"text",name:"contact_email"},domProps:{value:e.parseData.contact_email},on:{input:function(a){a.target.composing||e.$set(e.parseData,"contact_email",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group"},[e._m(5),e._v(" "),e._l(e.typesList,function(a,n){return t("label",{key:n,staticClass:"checkbox"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.empTypes,expression:"empTypes"}],attrs:{type:"checkbox",name:"employment_types",id:a.id},domProps:{value:a.id,checked:Array.isArray(e.empTypes)?e._i(e.empTypes,a.id)>-1:e.empTypes},on:{change:function(t){var n=e.empTypes,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r=a.id,o=e._i(n,r);s.checked?o<0&&(e.empTypes=n.concat([r])):o>-1&&(e.empTypes=n.slice(0,o).concat(n.slice(o+1)))}else e.empTypes=i}}}),e._v(" "),t("span",{class:{"is-invalid":e.submitted&&e.errors.has("employment_types")}},[e._v("\n                   "+e._s(a.name)+"\n                ")])])})],2),e._v(" "),t("div",{staticClass:"input-group"},[e._m(6),e._v(" "),t("div",{staticClass:"resume__salary"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.parseData.salary,expression:"parseData.salary",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("salary")},attrs:{type:"text",name:"salary"},domProps:{value:e.parseData.salary},on:{input:function(a){a.target.composing||e.$set(e.parseData,"salary",e._n(a.target.value))},blur:function(a){return e.$forceUpdate()}}}),e._v(" "),t("span",[e._v("руб. в месяц")])])]),e._v(" "),t("div",{staticClass:"input-group resume__comment"},[t("label",[e._v("\n                    Коментарий к зарплате:\n                ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.parseData.salary_comment,expression:"parseData.salary_comment"}],attrs:{type:"text",name:"salary_comment"},domProps:{value:e.parseData.salary_comment},on:{input:function(a){a.target.composing||e.$set(e.parseData,"salary_comment",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group resume__position"},[t("label",[e._v("\n                    Ссылка на Youtube:\n                ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.parseData.video,expression:"parseData.video"}],attrs:{type:"text",name:"video"},domProps:{value:e.parseData.video},on:{input:function(a){a.target.composing||e.$set(e.parseData,"video",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group resume__category"},[e._m(7),e._v(" "),t("div",{staticClass:"resume__category-wrapper"},e._l(e.categoriesList,function(a,n){return t("div",{key:n,staticClass:"resume__category-item"},[t("label",{staticClass:"checkbox"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.categories,expression:"categories"}],attrs:{type:"checkbox",name:"categories",id:a.id},domProps:{value:a.id,checked:Array.isArray(e.categories)?e._i(e.categories,a.id)>-1:e.categories},on:{change:function(t){var n=e.categories,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r=a.id,o=e._i(n,r);s.checked?o<0&&(e.categories=n.concat([r])):o>-1&&(e.categories=n.slice(0,o).concat(n.slice(o+1)))}else e.categories=i}}}),e._v(" "),t("span",{class:{"is-invalid":e.submitted&&e.errors.has("categories")}},[e._v("\n                            "+e._s(a.name)+"\n                        ")])])])}),0)]),e._v(" "),t("app-add-category",{attrs:{request:e.parseData.link_to_offer_category}})],1),e._v(" "),t("div",{staticClass:"resume__block"},[e._m(8),e._v(" "),t("div",{staticClass:"input-group"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.parseData.short_desc,expression:"parseData.short_desc"}],attrs:{name:"short_desc",maxlength:"191"},domProps:{value:e.parseData.short_desc},on:{input:function(a){a.target.composing||e.$set(e.parseData,"short_desc",a.target.value)}}})])]),e._v(" "),t("div",{staticClass:"resume__block"},[t("h2",{staticClass:"resume__title"},[e._v("\n                Описание вакансии\n            ")]),e._v(" "),t("div",{staticClass:"input-group"},[t("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.parseData.description,callback:function(a){e.$set(e.parseData,"description",a)},expression:"parseData.description"}})],1)]),e._v(" "),t("div",{staticClass:"resume__block resume__show"},[t("h2",{staticClass:"resume__title"},[e._v("\n                Настройки видимости вакансии:\n            ")]),e._v(" "),t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.parseData.published,expression:"parseData.published"}],attrs:{type:"radio",value:"1",name:"published"},domProps:{checked:e._q(e.parseData.published,"1")},on:{change:function(a){return e.$set(e.parseData,"published","1")}}}),e._v(" "),t("span",[e._v("\n                Размещено на сайте\n            ")])]),e._v(" "),t("div",{staticClass:"input-group hide m-0"}),e._v(" "),t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.parseData.published,expression:"parseData.published"}],attrs:{type:"radio",value:"0",name:"published"},domProps:{checked:e._q(e.parseData.published,"0")},on:{change:function(a){return e.$set(e.parseData,"published","0")}}}),e._v(" "),t("span",[e._v("\n                Черновик\n            ")])]),e._v(" "),t("div",{staticClass:"btn-wrapper"},[t("button",{staticClass:"btn btn-green",attrs:{disabled:e.loading,type:"submit"}},[e._v("\n                    Сохранить вакансию\n                ")]),e._v(" "),t("span",{staticClass:"or"},[e._v("\n                или\n            ")]),e._v(" "),t("button",{staticClass:"link-default link-default__red"},[e._v("\n                    Отменить\n                ")])])])])])},[function(){var e=this.$createElement,a=this._self._c||e;return a("label",[this._v("\n                    Должность "),a("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,a=this._self._c||e;return a("label",[this._v("\n                    Город работы "),a("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,a=this._self._c||e;return a("label",[this._v("\n                    Контактное лицо "),a("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,a=this._self._c||e;return a("label",[this._v("\n                    Телефон "),a("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,a=this._self._c||e;return a("label",[this._v("\n                    Email "),a("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,a=this._self._c||e;return a("label",[this._v("\n                    Вид занятости "),a("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,a=this._self._c||e;return a("label",[this._v("\n                    Зарплата "),a("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,a=this._self._c||e;return a("label",[this._v("\n                    Категория для размещения "),a("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h2",{staticClass:"resume__title"},[this._v("\n                Краткая информация\n                "),a("div",{staticClass:"resume__subtitle"},[this._v("\n                    Дополните вакансию информацией, на которую хотели бы обратить внимание соискателя.\n                ")])])}],!1,null,"c2fa715e",null);a.default=l.exports},uGzC:function(e,a,t){(e.exports=t("I1BE")(!1)).push([e.i,".create-resume[data-v-c2fa715e] {\n  padding-top: 23px;\n}\n.create-resume .prev-link[data-v-c2fa715e] {\n  display: inline-block;\n  margin-bottom: 22px;\n}\n.resume[data-v-c2fa715e] {\n  width: 803px;\n  background-color: #f9f9f9;\n  border: 1px solid #cfd6dc;\n}\n@media only screen and (max-width: 991px) {\n.resume[data-v-c2fa715e] {\n    width: 100%;\n}\n}\n.resume__block[data-v-c2fa715e] {\n  padding: 24px 36px 39px;\n  border-bottom: 1px solid #cfd6dc;\n}\n@media only screen and (max-width: 575px) {\n.resume__block[data-v-c2fa715e] {\n    padding: 15px 20px 25px;\n}\n}\n.resume__block .input-group[data-v-c2fa715e]:last-child {\n  margin-bottom: 0;\n}\n.resume__title[data-v-c2fa715e] {\n  font-weight: 500;\n  font-size: 1.5rem;\n  margin-bottom: 33px;\n}\n@media only screen and (max-width: 991px) {\n.resume__title[data-v-c2fa715e] {\n    margin-bottom: 25px;\n}\n}\n@media only screen and (max-width: 575px) {\n.resume__title[data-v-c2fa715e] {\n    margin-bottom: 13px;\n    line-height: 1.2;\n}\n}\n.resume__subtitle[data-v-c2fa715e] {\n  font-weight: 400;\n  font-size: 0.9375rem;\n  line-height: 1.5rem;\n  color: #797979;\n}\n.resume .input-group[data-v-c2fa715e] {\n  align-items: flex-start;\n  margin-bottom: 15px;\n}\n.resume .input-group label[data-v-c2fa715e]:not(.checkbox) {\n  margin-bottom: 11px;\n}\n.resume .checkbox[data-v-c2fa715e] {\n  margin-bottom: 5px;\n}\n.resume .checkbox span[data-v-c2fa715e] {\n  font-weight: 400;\n}\n@media only screen and (max-width: 575px) {\n.resume .checkbox span[data-v-c2fa715e] {\n    font-size: 0.8rem;\n}\n}\n.resume .checkbox span[data-v-c2fa715e]:before {\n  background-color: #fff;\n}\n.resume__position[data-v-c2fa715e] {\n  max-width: 570px;\n}\n.resume__desired[data-v-c2fa715e] {\n  max-width: 260px;\n}\n.resume__desired-add[data-v-c2fa715e] {\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n  background-color: transparent;\n  border: none;\n  display: inline-flex;\n  align-items: center;\n  color: #0092d7;\n}\n.resume__desired-add span[data-v-c2fa715e] {\n  margin-left: 7px;\n}\n.resume .autocomplete-desired[data-v-c2fa715e] {\n  margin-bottom: 10px;\n  width: 100%;\n}\n.resume__salary[data-v-c2fa715e] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n}\n.resume__salary input[data-v-c2fa715e] {\n  width: 260px;\n}\n@media only screen and (max-width: 575px) {\n.resume__salary input[data-v-c2fa715e] {\n    width: 165px;\n}\n}\n.resume__salary span[data-v-c2fa715e] {\n  margin-left: 15px;\n  white-space: nowrap;\n}\n.resume__category-wrapper[data-v-c2fa715e] {\n  display: flex;\n  flex-wrap: wrap;\n}\n.resume__category-item[data-v-c2fa715e] {\n  width: 50%;\n  flex-shrink: 0;\n}\n@media only screen and (max-width: 991px) {\n.resume__category-item[data-v-c2fa715e] {\n    padding-right: 10px;\n}\n}\n.resume__education .resume__title[data-v-c2fa715e] {\n  margin-bottom: 20px;\n}\n.resume__education .resume__desc[data-v-c2fa715e] {\n  margin-bottom: 35px;\n  margin-top: -8px;\n  font-size: 0.9375rem;\n  line-height: 1.5rem;\n  color: #797979;\n}\n@media only screen and (max-width: 991px) {\n.resume__education .resume__desc[data-v-c2fa715e] {\n    margin-bottom: 20px;\n}\n}\n.resume .input-group__select[data-v-c2fa715e] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n@media only screen and (max-width: 575px) {\n.resume .input-group__select[data-v-c2fa715e] {\n    flex-direction: column;\n}\n}\n.resume__level[data-v-c2fa715e] {\n  max-width: 570px;\n}\n.resume__level .v-select__default[data-v-c2fa715e] {\n  width: 100%;\n  background-color: #fff;\n}\n.resume__period[data-v-c2fa715e] {\n  width: calc(50% - 15px);\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n@media only screen and (max-width: 767px) {\n.resume__period[data-v-c2fa715e] {\n    flex-direction: column;\n    width: 100%;\n    margin-bottom: 0 !important;\n}\n}\n.resume__period .v-select__default[data-v-c2fa715e] {\n  width: calc(50% - 5px);\n  background-color: #fff;\n  margin-bottom: 10px;\n}\n@media only screen and (max-width: 767px) {\n.resume__period .v-select__default[data-v-c2fa715e] {\n    width: calc(100% - 10px);\n}\n}\n.resume__period label[data-v-c2fa715e] {\n  width: 100%;\n}\n.resume__city[data-v-c2fa715e] {\n  max-width: 260px;\n}\n.resume__city .autocomplete-wrapper[data-v-c2fa715e] {\n  width: 100%;\n}\n.resume__show .radio[data-v-c2fa715e] {\n  margin-bottom: 15px;\n}\n.resume__show .radio span[data-v-c2fa715e]:before {\n  background-color: #fff;\n}\n.resume__show .hide[data-v-c2fa715e] {\n  margin-left: 25px;\n}\n@media only screen and (max-width: 575px) {\n.resume__show .hide[data-v-c2fa715e] {\n    margin-left: 10px;\n}\n}\n.resume__show p[data-v-c2fa715e] {\n  color: #909090;\n  line-height: 1.1875rem;\n  font-size: 0.875rem;\n  margin-bottom: 0;\n  max-width: 376px;\n  margin-left: 33px;\n}\n.resume .btn-wrapper[data-v-c2fa715e] {\n  margin-top: 25px;\n}\n@media only screen and (max-width: 575px) {\n.resume .btn-wrapper[data-v-c2fa715e] {\n    margin-top: 10px;\n}\n}\n.resume .btn-wrapper .btn-green[data-v-c2fa715e] {\n  height: 47px;\n  line-height: 47px;\n  padding: 0 20px;\n  font-size: 1rem;\n}\n.resume .btn-wrapper .or[data-v-c2fa715e] {\n  color: #969696;\n  margin: 0 15px;\n}\n@media only screen and (max-width: 575px) {\n.resume .btn-wrapper .or[data-v-c2fa715e] {\n    display: none;\n}\n}\n@media only screen and (max-width: 575px) {\n.resume .btn-wrapper .link-default__red[data-v-c2fa715e] {\n    margin-left: 15px;\n}\n}\n.city-autocomplete[data-v-c2fa715e] {\n  display: flex;\n  align-items: center;\n  margin-bottom: 13px;\n}\n.city-autocomplete .link-default__red[data-v-c2fa715e] {\n  margin-left: 10px;\n}",""])}}]);