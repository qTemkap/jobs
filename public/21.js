(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{TrB7:function(a,t,e){"use strict";e.r(t);var s=e("Snq/"),i=e.n(s),l=e("vDqi"),n=e.n(l),r={name:"AppCompanyShow",components:{vSelect:i.a},props:["data"],data:function(){return{filterValue:{city:null,categories:null},parseData:null,vacancyList:null}},created:function(){this.parseData=JSON.parse(this.data),this.loadVacancy(),this.renderFilter()},methods:{loadVacancy:function(){var a=this;n.a.get(this.parseData.company.load_vacancies).then(function(t){a.vacancyList=t.data})},findGetParameter:function(a){var t=location.search.substr(1).split("&"),e=[];return t.forEach(function(t){-1!==t.indexOf(a)&&t.split("=")[0]===a&&e.push(t.split("=")[1])}),e},renderDefaultValue:function(a,t){return null!==t&&void 0!==a?t.find(function(t){return+a===t.id}):null},renderFilter:function(){this.filterValue.city=this.renderDefaultValue(this.findGetParameter("cities[]")[0],this.parseData.cities),this.filterValue.categories=this.renderDefaultValue(this.findGetParameter("categories[]")[0],this.parseData.categories)},filter:function(){var a=this;n.a.get(this.parseData.company.load_vacancies,{params:{categories:null!==this.filterValue.categories?[this.filterValue.categories.id]:null,cities:null!==this.filterValue.city?[this.filterValue.city.id]:null}}).then(function(t){try{a.vacancyList=t.data;var e=t.request.responseURL.replace(/vacancies/g,"show").replace(/%2B/g,"+");history.pushState(null,null,e)}catch(a){console.log(a)}})}},watch:{"filterValue.categories":function(a){this.filter()},"filterValue.city":function(a){this.filter()}}},c=(e("iUSS"),e("KHd+")),o=Object(c.a)(r,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"company-preview"},[e("div",{staticClass:"profile__small"},[e("div",{staticClass:"main-info__photo"},[null===a.parseData.company.logo?[e("img",{staticClass:"img-fluid company-show-logo",attrs:{src:"/images/profile-company.jpg",alt:""}})]:[e("img",{staticClass:"img-fluid",attrs:{src:a.parseData.company.logo,alt:""}})]],2)]),a._v(" "),e("div",{staticClass:"profile__large"},[e("h1",{staticClass:"info-title"},[a._v("\n                    "+a._s(a.parseData.company.name)+"\n                ")]),a._v(" "),e("div",{staticClass:"user-data"},[e("div",{staticClass:"user-data__item"},[e("p",[a._v("\n                            Отрасль:\n                        ")]),a._v(" "),e("p",[a._v("\n                            "+a._s(a.parseData.company.company_types)+"\n                        ")])]),a._v(" "),e("div",{staticClass:"user-data__item"},[e("p",[a._v("\n                            Размер компании:\n                        ")]),a._v(" "),e("p",[a._v("\n                            "+a._s(a.parseData.company.company_size)+" сотрудников\n                        ")])]),a._v(" "),e("div",{staticClass:"user-data__item"},[e("p",[a._v("\n                            Сайт:\n                        ")]),a._v(" "),e("p",[e("a",{staticClass:"link-default",attrs:{href:a.parseData.company.web_site,target:"_blank"}},[a._v(a._s(a.parseData.company.web_site))])])]),a._v(" "),e("div",{staticClass:"user-data__item"},[e("p",[a._v("\n                            Email:\n                        ")]),a._v(" "),e("p",[e("a",{staticClass:"link-default",attrs:{href:"`mailto:${parseData.company.email}`"}},[a._v(a._s(a.parseData.company.email))])])])])]),a._v(" "),e("div",{staticClass:"company-preview__desc"},[e("p",{domProps:{innerHTML:a._s(a.parseData.company.information)}})])]),a._v(" "),e("div",{staticClass:"company-preview company-search-list"},[e("h2",[a._v("\n                Размещенные вакансии\n            ")]),a._v(" "),null!==a.vacancyList?e("div",{staticClass:"select-wrapper"},[e("v-select",{staticClass:"v-select__default filter-select",attrs:{options:a.parseData.cities,label:"name",placeholder:"Все города"},model:{value:a.filterValue.city,callback:function(t){a.$set(a.filterValue,"city",t)},expression:"filterValue.city"}}),a._v(" "),e("v-select",{staticClass:"v-select__default filter-select",attrs:{options:a.parseData.categories,label:"name",placeholder:"Все категории"},model:{value:a.filterValue.categories,callback:function(t){a.$set(a.filterValue,"categories",t)},expression:"filterValue.categories"}})],1):a._e()]),a._v(" "),null!==a.vacancyList?e("div",a._l(a.vacancyList,function(t,s){return e("div",{key:s,staticClass:"search-card company-search-card"},[e("div",{staticClass:"card-block"},[e("div",{staticClass:"person"},[e("a",{staticClass:"title",attrs:{href:t.show}},[a._v("\n                           "+a._s(t.position)+"\n                        ")]),a._v(" "),e("div",{staticClass:"salary"},[a._v("\n                            "+a._s(t.salary)+" руб.\n                        ")])]),a._v(" "),e("div",{staticClass:"location"},[e("span",[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8 11",width:"8px",height:"11px"}},[e("path",{attrs:{"fill-rule":"evenodd",fill:"rgb(0, 146, 215)",d:"M3.999,11.001 L7.200,6.549 C8.400,5.008 8.226,2.475 6.828,1.128 C6.072,0.400 5.068,-0.001 3.999,-0.001 C2.930,-0.001 1.925,0.400 1.170,1.128 C-0.229,2.474 -0.402,5.008 0.793,6.543 L3.999,11.001 ZM4.036,2.410 C4.841,2.410 5.496,3.041 5.496,3.817 C5.496,4.592 4.841,5.223 4.036,5.223 C3.230,5.223 2.575,4.592 2.575,3.817 C2.575,3.041 3.230,2.410 4.036,2.410 Z"}})]),a._v("\n\n                           "+a._s(t.city)+" · "+a._s(t.past_time)+" назад\n                        ")])])])])}),0):a._e()])},[],!1,null,"4bf59947",null);t.default=o.exports},YFso:function(a,t,e){var s=e("yBC1");"string"==typeof s&&(s=[[a.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,i);s.locals&&(a.exports=s.locals)},iUSS:function(a,t,e){"use strict";var s=e("YFso");e.n(s).a},yBC1:function(a,t,e){(a.exports=e("I1BE")(!1)).push([a.i,".company-show-logo[data-v-4bf59947] {\n  width: 100%;\n}",""])}}]);