(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{OJUh:function(e,t,n){"use strict";var a=n("aeS5");n.n(a).a},aeS5:function(e,t,n){var a=n("rXtZ");"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(e.exports=a.locals)},"lI+f":function(e,t,n){"use strict";n.r(t);var a=n("+z1p"),i=n.n(a),s=n("Snq/"),r=n.n(s),o=n("j4GA"),d=n.n(o),l=n("vDqi"),c=n.n(l),m={name:"AppCreateVacancy",props:["data"],components:{vSelect:r.a,Autocomplete:d.a},data:function(){return{submitted:!1,loading:!1,position:"",cities:[{id:1,name:""}],contactPerson:"",contactPhone:"",contactEmail:"",typeEmployment:[],salary:"",comment:"",categoryModel:[],editor:i.a,editorConfig:{toolbar:["Heading","bulletedList","numberedList","bold","italic","link","undo","redo"]},description:"",short_desc:"",published:1,showDate:0}},created:function(){this.parseData=JSON.parse(this.data),this.$store.commit("SET_COMPANY_LOGO",this.parseData.logo),this.$store.dispatch("GET_CITY"),this.$store.dispatch("GET_CATEGORIES"),this.$store.dispatch("GET_TYPES"),this.$store.dispatch("GET_LEVELS")},methods:{vacancySubmit:function(){var e=this;this.submitted=!0,this.$store.dispatch("addErrors",this.$validator.errors.items);var t=[];this.cities.forEach(function(e){t.push(e.value)}),this.$validator.validate().then(function(n){n&&(e.loading=!0,c.a.post("/vacancy/store",{_method:"PATCH",position:e.position,contact_name:e.contactPerson,contact_phone:e.contactPhone,contact_email:e.contactEmail,cities:t,employment_types:e.typeEmployment,salary:e.salary,salary_comment:e.comment,description:e.description,categories:e.categoryModel,show_data:e.showDate,published:e.published,short_desc:e.short_desc,video:e.video}).then(function(t){e.loading=!1,"redirect"===t.data.status&&(window.location.href=t.data.data.path)}).catch(function(t){for(var n in e.loading=!1,t.response.data.errors)e.errors.add({field:n,msg:t.response.data.errors[n][0]})}))})},addInput:function(){this.cities.push({value:""})},deleteInput:function(e){this.cities.splice(e,1)}},computed:{cityList:function(){return this.$store.getters.CITY},categoriesList:function(){return this.$store.getters.CATEGORIES},typesList:function(){return this.$store.getters.TYPES}}},p=(n("OJUh"),n("KHd+")),u=Object(p.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"resume",on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},submit:function(t){return t.preventDefault(),e.vacancySubmit(t)}}},[n("div",{staticClass:"resume__block"},[n("h2",{staticClass:"resume__title"},[e._v("\n                Общая информация\n            ")]),e._v(" "),n("div",{staticClass:"input-group resume__position"},[e._m(0),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.position,expression:"position"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("position")},attrs:{type:"text",maxlength:"100",name:"position"},domProps:{value:e.position},on:{input:function(t){t.target.composing||(e.position=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group resume__desired"},[e._m(1),e._v(" "),e._l(e.cities,function(t,a){return n("div",{key:a,staticClass:"city-autocomplete"},[n("autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("cities")},attrs:{name:"cities",placeholder:"",source:e.cityList},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"city.value"}}),e._v(" "),n("button",{staticClass:"link-default link-default__red d-none",class:{"d-flex":e.cities.length>1},attrs:{type:"button"},on:{click:function(n){return e.deleteInput(t)}}},[e._v("Удалить")])],1)})],2),e._v(" "),n("div",{staticClass:"input-group resume__position"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.contactPerson,expression:"contactPerson"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("contact_name")},attrs:{type:"text",name:"contact_name"},domProps:{value:e.contactPerson},on:{input:function(t){t.target.composing||(e.contactPerson=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group resume__position"},[e._m(3),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.contactPhone,expression:"contactPhone"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("contact_phone")},attrs:{type:"text",name:"contact_phone"},domProps:{value:e.contactPhone},on:{input:function(t){t.target.composing||(e.contactPhone=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group resume__position"},[e._m(4),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.contactEmail,expression:"contactEmail"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("contact_email")},attrs:{type:"text",name:"contact_email"},domProps:{value:e.contactEmail},on:{input:function(t){t.target.composing||(e.contactEmail=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group"},[e._m(5),e._v(" "),e._l(e.typesList,function(t,a){return n("label",{key:a,staticClass:"checkbox"},[n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.typeEmployment,expression:"typeEmployment"}],attrs:{type:"checkbox",name:"level_education",id:t.id},domProps:{value:t.id,checked:Array.isArray(e.typeEmployment)?e._i(e.typeEmployment,t.id)>-1:e.typeEmployment},on:{change:function(n){var a=e.typeEmployment,i=n.target,s=!!i.checked;if(Array.isArray(a)){var r=t.id,o=e._i(a,r);i.checked?o<0&&(e.typeEmployment=a.concat([r])):o>-1&&(e.typeEmployment=a.slice(0,o).concat(a.slice(o+1)))}else e.typeEmployment=s}}}),e._v(" "),n("span",{class:{"is-invalid":e.submitted&&e.errors.has("level_education")}},[e._v("\n                           "+e._s(t.name)+"\n                        ")])])})],2),e._v(" "),n("div",{staticClass:"input-group "},[e._m(6),e._v(" "),n("div",{staticClass:"resume__salary"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.salary,expression:"salary",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],class:{"is-invalid":e.submitted&&e.errors.has("salary")},attrs:{type:"text",maxlength:"7",name:"salary"},domProps:{value:e.salary},on:{input:function(t){t.target.composing||(e.salary=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("span",[e._v("руб в месяц")])])]),e._v(" "),n("div",{staticClass:"input-group resume__comment"},[n("label",[e._v("\n                    Коментарий к зарплате:\n                ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],attrs:{type:"text",name:"comment"},domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group resume__position"},[n("label",[e._v("\n                    Ссылка на Youtube:\n                ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.video,expression:"video"}],attrs:{type:"text",name:"video"},domProps:{value:e.video},on:{input:function(t){t.target.composing||(e.video=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group resume__category"},[e._m(7),e._v(" "),n("div",{staticClass:"resume__category-wrapper"},e._l(e.categoriesList,function(t,a){return n("div",{key:a,staticClass:"resume__category-item"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.categoryModel,expression:"categoryModel"}],attrs:{type:"checkbox",name:"categories",id:t.id},domProps:{value:t.id,checked:Array.isArray(e.categoryModel)?e._i(e.categoryModel,t.id)>-1:e.categoryModel},on:{change:function(n){var a=e.categoryModel,i=n.target,s=!!i.checked;if(Array.isArray(a)){var r=t.id,o=e._i(a,r);i.checked?o<0&&(e.categoryModel=a.concat([r])):o>-1&&(e.categoryModel=a.slice(0,o).concat(a.slice(o+1)))}else e.categoryModel=s}}}),e._v(" "),n("span",{class:{"is-invalid":e.submitted&&e.errors.has("categories")}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])])])}),0)]),e._v(" "),n("app-add-category",{attrs:{request:e.parseData.link_to_offer_category}})],1),e._v(" "),n("div",{staticClass:"resume__block"},[e._m(8),e._v(" "),n("div",{staticClass:"input-group"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.short_desc,expression:"short_desc"}],attrs:{name:"short_desc",maxlength:"191"},domProps:{value:e.short_desc},on:{input:function(t){t.target.composing||(e.short_desc=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"resume__block"},[n("h2",{staticClass:"resume__title"},[e._v("\n                Описание вакансии\n            ")]),e._v(" "),n("div",{staticClass:"input-group"},[n("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)]),e._v(" "),n("div",{staticClass:"resume__block resume__show"},[n("h2",{staticClass:"resume__title"},[e._v("\n                Настройки видимости вакансии:\n            ")]),e._v(" "),n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.published,expression:"published"}],attrs:{type:"radio",value:"1",name:"published"},domProps:{checked:e._q(e.published,"1")},on:{change:function(t){e.published="1"}}}),e._v(" "),n("span",[e._v("\n                Размещено на сайте\n            ")])]),e._v(" "),n("div",{staticClass:"input-group hide m-0"}),e._v(" "),n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.published,expression:"published"}],attrs:{type:"radio",value:"0",name:"published"},domProps:{checked:e._q(e.published,"0")},on:{change:function(t){e.published="0"}}}),e._v(" "),n("span",[e._v("\n                Черновик\n            ")])]),e._v(" "),n("div",{staticClass:"btn-wrapper"},[n("button",{staticClass:"btn btn-green",attrs:{disabled:e.loading,type:"submit"}},[e._v("\n                    Сохранить вакансию\n                ")]),e._v(" "),n("span",{staticClass:"or"},[e._v("\n                или\n            ")]),e._v(" "),n("button",{staticClass:"link-default link-default__red"},[e._v("\n                    Отменить\n                ")])])])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("\n                    Должность "),t("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("\n                    Город работы "),t("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("\n                    Контактное лицо "),t("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("\n                    Телефон "),t("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("\n                    Email "),t("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("\n                    Вид занятости "),t("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("\n                    Зарплата "),t("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("\n                    Категория для размещения "),t("span",{staticClass:"req"},[this._v("*")]),this._v(":\n                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{staticClass:"resume__title"},[this._v("\n                Краткая информация\n                "),t("div",{staticClass:"resume__subtitle"},[this._v("\n                    Дополните вакансию информацией, на которую хотели бы обратить внимание соискателя.\n                ")])])}],!1,null,"503030e1",null);t.default=u.exports},rXtZ:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".create-resume[data-v-503030e1] {\n  padding-top: 23px;\n}\n.create-resume .prev-link[data-v-503030e1] {\n  display: inline-block;\n  margin-bottom: 22px;\n}\n.resume[data-v-503030e1] {\n  width: 803px;\n  background-color: #f9f9f9;\n  border: 1px solid #cfd6dc;\n}\n@media only screen and (max-width: 991px) {\n.resume[data-v-503030e1] {\n    width: 100%;\n}\n}\n.resume__block[data-v-503030e1] {\n  padding: 24px 36px 39px;\n  border-bottom: 1px solid #cfd6dc;\n}\n@media only screen and (max-width: 575px) {\n.resume__block[data-v-503030e1] {\n    padding: 15px 20px 25px;\n}\n}\n.resume__block .input-group[data-v-503030e1]:last-child {\n  margin-bottom: 0;\n}\n.resume__title[data-v-503030e1] {\n  font-weight: 500;\n  font-size: 1.5rem;\n  margin-bottom: 33px;\n}\n@media only screen and (max-width: 991px) {\n.resume__title[data-v-503030e1] {\n    margin-bottom: 25px;\n}\n}\n@media only screen and (max-width: 575px) {\n.resume__title[data-v-503030e1] {\n    margin-bottom: 13px;\n    line-height: 1.2;\n}\n}\n.resume__subtitle[data-v-503030e1] {\n  font-weight: 400;\n  font-size: 0.9375rem;\n  line-height: 1.5rem;\n  color: #797979;\n}\n.resume .input-group[data-v-503030e1] {\n  align-items: flex-start;\n  margin-bottom: 15px;\n}\n.resume .input-group label[data-v-503030e1]:not(.checkbox) {\n  margin-bottom: 11px;\n}\n.resume .checkbox[data-v-503030e1] {\n  margin-bottom: 5px;\n}\n.resume .checkbox span[data-v-503030e1] {\n  font-weight: 400;\n}\n@media only screen and (max-width: 575px) {\n.resume .checkbox span[data-v-503030e1] {\n    font-size: 0.8rem;\n}\n}\n.resume .checkbox span[data-v-503030e1]:before {\n  background-color: #fff;\n}\n.resume__position[data-v-503030e1] {\n  max-width: 570px;\n}\n.resume__desired[data-v-503030e1] {\n  max-width: 260px;\n}\n.resume__desired-add[data-v-503030e1] {\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n  background-color: transparent;\n  border: none;\n  display: inline-flex;\n  align-items: center;\n  color: #0092d7;\n}\n.resume__desired-add span[data-v-503030e1] {\n  margin-left: 7px;\n}\n.resume .autocomplete-desired[data-v-503030e1] {\n  margin-bottom: 10px;\n  width: 100%;\n}\n.resume__salary[data-v-503030e1] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n}\n.resume__salary input[data-v-503030e1] {\n  width: 260px;\n}\n@media only screen and (max-width: 575px) {\n.resume__salary input[data-v-503030e1] {\n    width: 165px;\n}\n}\n.resume__salary span[data-v-503030e1] {\n  margin-left: 15px;\n  white-space: nowrap;\n}\n.resume__category-wrapper[data-v-503030e1] {\n  display: flex;\n  flex-wrap: wrap;\n}\n.resume__category-item[data-v-503030e1] {\n  width: 50%;\n  flex-shrink: 0;\n}\n@media only screen and (max-width: 991px) {\n.resume__category-item[data-v-503030e1] {\n    padding-right: 10px;\n}\n}\n.resume__education .resume__title[data-v-503030e1] {\n  margin-bottom: 20px;\n}\n.resume__education .resume__desc[data-v-503030e1] {\n  margin-bottom: 35px;\n  margin-top: -8px;\n  font-size: 0.9375rem;\n  line-height: 1.5rem;\n  color: #797979;\n}\n@media only screen and (max-width: 991px) {\n.resume__education .resume__desc[data-v-503030e1] {\n    margin-bottom: 20px;\n}\n}\n.resume .input-group__select[data-v-503030e1] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n@media only screen and (max-width: 575px) {\n.resume .input-group__select[data-v-503030e1] {\n    flex-direction: column;\n}\n}\n.resume__level[data-v-503030e1] {\n  max-width: 570px;\n}\n.resume__level .v-select__default[data-v-503030e1] {\n  width: 100%;\n  background-color: #fff;\n}\n.resume__period[data-v-503030e1] {\n  width: calc(50% - 15px);\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n@media only screen and (max-width: 767px) {\n.resume__period[data-v-503030e1] {\n    flex-direction: column;\n    width: 100%;\n    margin-bottom: 0 !important;\n}\n}\n.resume__period .v-select__default[data-v-503030e1] {\n  width: calc(50% - 5px);\n  background-color: #fff;\n  margin-bottom: 10px;\n}\n@media only screen and (max-width: 767px) {\n.resume__period .v-select__default[data-v-503030e1] {\n    width: calc(100% - 10px);\n}\n}\n.resume__period label[data-v-503030e1] {\n  width: 100%;\n}\n.resume__city[data-v-503030e1] {\n  max-width: 260px;\n}\n.resume__city .autocomplete-wrapper[data-v-503030e1] {\n  width: 100%;\n}\n.resume__show .radio[data-v-503030e1] {\n  margin-bottom: 15px;\n}\n.resume__show .radio span[data-v-503030e1]:before {\n  background-color: #fff;\n}\n.resume__show .hide[data-v-503030e1] {\n  margin-left: 25px;\n}\n@media only screen and (max-width: 575px) {\n.resume__show .hide[data-v-503030e1] {\n    margin-left: 10px;\n}\n}\n.resume__show p[data-v-503030e1] {\n  color: #909090;\n  line-height: 1.1875rem;\n  font-size: 0.875rem;\n  margin-bottom: 0;\n  max-width: 376px;\n  margin-left: 33px;\n}\n.resume .btn-wrapper[data-v-503030e1] {\n  margin-top: 25px;\n}\n@media only screen and (max-width: 575px) {\n.resume .btn-wrapper[data-v-503030e1] {\n    margin-top: 10px;\n}\n}\n.resume .btn-wrapper .btn-green[data-v-503030e1] {\n  height: 47px;\n  line-height: 47px;\n  padding: 0 20px;\n  font-size: 1rem;\n}\n.resume .btn-wrapper .or[data-v-503030e1] {\n  color: #969696;\n  margin: 0 15px;\n}\n@media only screen and (max-width: 575px) {\n.resume .btn-wrapper .or[data-v-503030e1] {\n    display: none;\n}\n}\n@media only screen and (max-width: 575px) {\n.resume .btn-wrapper .link-default__red[data-v-503030e1] {\n    margin-left: 15px;\n}\n}\n.city-autocomplete[data-v-503030e1] {\n  display: flex;\n  align-items: center;\n  margin-bottom: 13px;\n}\n.city-autocomplete .link-default__red[data-v-503030e1] {\n  margin-left: 10px;\n}\n@media only screen and (max-width: 575px) {\n.resume .btn-wrapper .btn-green[data-v-503030e1] {\n    width: 160px;\n}\n}",""])}}]);